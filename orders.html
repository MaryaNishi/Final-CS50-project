{% extends "layout.html" %}


{% block title %}
    Orders
{% endblock %}

{% block main %}
    <div class="px-md-5 px-4 mt-5 cart-header">
        <strong>All orders</strong>
    </div>
    {% if not purchases %}
    <div class="mx-md-5 mx-4 mt-3 alert alert-primary alert-empty-cart" role="alert">
        The order list is empty!
    </div>
    {% endif %}
    {% for purchase in purchases %}
    <div class="d-flex flex-column m-md-5 m-4 p-2 orders-main-container">
        <div class="px-3 pt-3" style="color: green;">Ordered</div>
        <div class="px-3">Ordered on {{ purchase.date | get_date }}</div>
        <div class="px-3" style="color: grey;">Total: <span>{{ purchase.total }}</span>$</div>
        {% for card in purchase.cards %}
            <div class="d-flex flex-md-row flex-column px-sm-4 py-4 product-info-container" id="{{ card.code }}">
                <div class="d-flex product-items1">
                    <div class='px-2 product-img-cart'>
                        <img src="{{ card.image_url }}" class="img-option {{ card.class_name }}" alt="{{ card.product_name }}">
                    </div>
                    <div class="d-flex flex-column px-2 product-cart" style="align-items: start;">
                        <div class="p-1">{{ card.product_name }} / {{ card.brands }} / {{ card.quantity }}</div>
                        <div class="p-1">Qty: {{ card.count }}</div>
                    </div> 
                </div>
            </div>
        {% endfor %}
    </div>
    {% endfor %}
{% endblock %}